{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { ApiUrl } from 'src/app/core/apiUrl';\nimport { Patterns } from 'src/app/shared/models/patterns.model';\nlet ForgetComponent = class ForgetComponent {\n  constructor(formBuilder, message, router, http) {\n    this.formBuilder = formBuilder;\n    this.message = message;\n    this.router = router;\n    this.http = http;\n    this.forgotForm = new FormGroup({});\n    this.isSubmitted = false;\n    this.isLoading = false;\n    this.isAdmin = false;\n    this.validationPattern = new Patterns();\n    this.createforgotForm();\n  }\n  ngOnInit() {\n    if (this.router.url.includes('/admin')) {\n      this.isAdmin = true;\n    }\n  }\n  /*** Intialize Forgot Form ***/\n  createforgotForm() {\n    this.forgotForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.pattern(this.validationPattern.emailPattern)]]\n    });\n  }\n  /*** Trim form values ***/\n  trim(key) {\n    if (this.forgotForm.controls[key].value) {\n      this.forgotForm.controls[key].patchValue(this.forgotForm.controls[key].value.trim());\n    }\n  }\n  /*** Submit Form ***/\n  onSubmit() {\n    this.isSubmitted = true;\n    if (!this.forgotForm.valid) {\n      setTimeout(() => {\n        this.isSubmitted = false;\n      }, 10000);\n      return;\n    }\n    const params = Object.assign({}, this.forgotForm.value);\n    this.isLoading = true;\n    const url = this.isAdmin ? ApiUrl.admin.forgotPassword : ApiUrl.auth.forgotPassword;\n    this.http.postData(url, params).subscribe(response => {\n      this.isLoading = false;\n      if (!!response) {\n        this.message.toast('success', response.message);\n        this.backToLogin();\n      }\n    }, err => {\n      this.isLoading = false;\n    });\n  }\n  /*** Redirect to Login page ***/\n  backToLogin() {\n    if (this.isAdmin) {\n      this.router.navigate(['admin/login']);\n    } else {\n      this.router.navigate(['/login']);\n    }\n  }\n};\nForgetComponent = __decorate([Component({\n  selector: 'app-forget',\n  templateUrl: './forget.component.html',\n  styleUrls: ['./forget.component.scss']\n})], ForgetComponent);\nexport { ForgetComponent };","map":null,"metadata":{},"sourceType":"module"}