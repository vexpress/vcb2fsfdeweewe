{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport { ApiUrl } from 'src/app/core/apiUrl';\nimport * as moment from 'moment';\nimport { CustomerDelivery } from 'src/app/shared/models/delivery.model';\nimport { Patterns } from 'src/app/shared/models/patterns.model';\nimport { forkJoin, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/message/message.service\";\nimport * as i4 from \"src/app/services/http/http.service\";\nimport * as i5 from \"src/app/core/utils.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@porsche-design-system/components-angular\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/datepicker\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"ngx-material-timepicker\";\nimport * as i12 from \"@ngx-translate/core\";\n\nfunction DeliveryComponent_option_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const car_r8 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", car_r8)(\"selected\", (car_r8 == null ? null : car_r8.id) == (ctx_r0.deliverData == null ? null : ctx_r0.deliverData.model == null ? null : ctx_r0.deliverData.model.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(car_r8.name);\n  }\n}\n\nfunction DeliveryComponent_option_114_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r9 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", option_r9.name)(\"selected\", (option_r9 == null ? null : option_r9.id) == (ctx_r4.deliverData == null ? null : ctx_r4.deliverData.porschePro == null ? null : ctx_r4.deliverData.porschePro.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r9.name);\n  }\n}\n\nfunction DeliveryComponent_option_130_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r10 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", option_r10.name)(\"selected\", (option_r10 == null ? null : option_r10.id) == (ctx_r5.deliverData == null ? null : ctx_r5.deliverData.salesConsultant == null ? null : ctx_r5.deliverData.salesConsultant.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r10.name);\n  }\n}\n\nfunction DeliveryComponent_option_145_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r11 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", option_r11.name)(\"selected\", (option_r11 == null ? null : option_r11.id) == (ctx_r6.deliverData == null ? null : ctx_r6.deliverData.serviceAdvisor == null ? null : ctx_r6.deliverData.serviceAdvisor.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r11.name);\n  }\n}\n\nfunction DeliveryComponent_option_159_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const del_r12 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", del_r12)(\"selected\", (del_r12 == null ? null : del_r12.id) == (ctx_r7.deliverData == null ? null : ctx_r7.deliverData.deliveryType == null ? null : ctx_r7.deliverData.deliveryType.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 3, del_r12.name));\n  }\n}\n\nexport let DeliveryComponent = /*#__PURE__*/(() => {\n  class DeliveryComponent {\n    constructor(formBuilder, router, route, message, http, UtilsService, datePipe) {\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.route = route;\n      this.message = message;\n      this.http = http;\n      this.UtilsService = UtilsService;\n      this.datePipe = datePipe;\n      this.deliverData = new CustomerDelivery();\n      this.deliveryForm = new FormGroup({});\n      this.porscheModels = [];\n      this.deliverTypes = [];\n      this.isSubmitted = false;\n      this.isLoading = false;\n      this.today = moment(new Date()).format('YYYY-MM-DD');\n      this.minTime = moment(new Date()).format('LT');\n      this.validationPattern = new Patterns();\n      this.consultants = [];\n      this.advisors = [];\n      this.porschePros = [];\n      this.isTouched = false;\n      this.isEmailTouched = false;\n      this.isContactTouched = false;\n      this.createDeliveryForm();\n    }\n\n    ngOnInit() {\n      this.deliveryId = this.route.snapshot.paramMap.get('deliveryId');\n      this.getPorshceModels();\n      this.getAllStaff();\n      const inputElement = document.getElementById('phoneNumberInput');\n      inputElement.addEventListener('keydown', event => {\n        // Allow key codes for digits and necessary control keys (e.g., backspace, delete, arrow keys)\n        const allowedKeyCodes = [8, 9, 37, 39, 46]; // Backspace, Tab, Left Arrow, Right Arrow, Delete\n\n        if (!allowedKeyCodes.includes(event.keyCode) && (event.key < '0' || event.key > '9')) {\n          event.preventDefault();\n        }\n      });\n    }\n    /*** Create Delivery Form ***/\n\n\n    createDeliveryForm() {\n      this.deliveryForm = this.formBuilder.group({\n        customerName: ['', Validators.required],\n        customerEmail: ['', [Validators.required, Validators.pattern(this.validationPattern.emailPattern)]],\n        model: ['', Validators.required],\n        deliveryDate: [this.today, Validators.required],\n        deliveryTime: ['', Validators.required],\n        contactNumber: ['', [Validators.required, Validators.pattern(this.validationPattern.telPattern)]],\n        porschePro: ['', Validators.required],\n        salesConsultant: ['', Validators.required],\n        serviceAdvisor: ['', Validators.required],\n        deliveryType: ['', Validators.required],\n        skipSurvey: [false]\n      });\n    }\n\n    errorNull(controlName) {\n      if (controlName == 'customerEmail') this.isEmailTouched = false;\n      if (controlName == 'contactNumber') this.isContactTouched = false;\n    }\n\n    validateControl(controlName) {\n      const control = this.deliveryForm.get(controlName);\n      control === null || control === void 0 ? void 0 : control.markAsTouched();\n      if (controlName == 'customerEmail') this.isEmailTouched = true;\n      if (controlName == 'contactNumber') this.isContactTouched = true;\n    }\n\n    onKeyUp(event) {\n      // Disable keyboard input\n      event.preventDefault();\n    }\n    /*** Get Delivery Details ***/\n\n\n    getDeliveryDetails() {\n      const url = ApiUrl.dealer.delivery + '/' + this.deliveryId;\n      this.http.getData(url).subscribe(response => {\n        this.isLoading = false;\n\n        if (!!response) {\n          const result = response.result ? response.result : {};\n\n          if (result) {\n            this.setFormData(result);\n          } else {\n            this.message.toast('error', response.message);\n            this.router.navigate(['']);\n          }\n        }\n      }, err => {\n        this.router.navigate(['']);\n      });\n    }\n    /*** Set Default Values ***/\n\n\n    setFormData(data) {\n      this.deliverData = data;\n      this.deliveryForm.controls.customerName.patchValue(data.customerName, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.customerEmail.patchValue(data.customerEmail, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.model.patchValue(data.model, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.deliveryDate.patchValue(data.deliveryDate, {\n        onlySelf: true\n      });\n      this.checkMinDate();\n      this.deliveryForm.controls.contactNumber.patchValue(data.contactNumber.includes('+1') ? +data.contactNumber.slice(2).replace(/\\D/g, '').toString() : data.contactNumber.replace(/\\D/g, '').toString(), {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.porschePro.patchValue(data.porschePro.name, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.salesConsultant.patchValue(data.salesConsultant.name, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.serviceAdvisor.patchValue(data.serviceAdvisor.name, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.deliveryType.patchValue(data.deliveryType, {\n        onlySelf: true\n      });\n      this.deliveryForm.controls.skipSurvey.patchValue(data.skipSurvey, {\n        onlySelf: true\n      });\n      setTimeout(() => {\n        this.deliveryForm.controls.deliveryTime.patchValue(moment(data.deliveryTime).format('LT'), {\n          onlySelf: true\n        });\n      });\n      this.formatPhoneNumber();\n    }\n\n    formatPhoneNumber() {\n      const input = document.getElementById(\"phoneNumberInput\");\n      input.value = this.UtilsService.formatPhoneNumber(input.value);\n      this.deliveryForm.patchValue({\n        contactNumber: input.value\n      });\n      /*  if (this.deliveryForm.controls.contactNumber.valid)\r\n         input.value = input.value ? this.UtilsService.formatPhoneNumber(input.value) : ''; */\n    }\n\n    getAllStaff() {\n      const response1 = this.http.getData(ApiUrl.dealer.getConsultants).pipe(catchError(err => of({\n        isError: true,\n        error: err\n      })));\n      const response2 = this.http.getData(ApiUrl.dealer.getPorschePros).pipe(catchError(err => of({\n        isError: true,\n        error: err\n      })));\n      const response3 = this.http.getData(ApiUrl.dealer.getAdvisors).pipe(catchError(err => of({\n        isError: true,\n        error: err\n      })));\n      const response4 = this.http.getData(ApiUrl.dealer.getDeliveryTypes).pipe(catchError(err => of({\n        isError: true,\n        error: err\n      })));\n      forkJoin([response1, response2, response3, response4]).subscribe(responseList => {\n        const responseData1 = responseList[0];\n        const responseData2 = responseList[1];\n        const responseData3 = responseList[2];\n        const responseData4 = responseList[3];\n\n        if (!!responseData1) {\n          const result1 = responseData1.result ? responseData1.result : [];\n          this.consultants = result1;\n\n          if (!!responseData2) {\n            const result2 = responseData2.result ? responseData2.result : [];\n            this.porschePros = result2;\n          }\n\n          if (!!responseData3) {\n            const result3 = responseData3.result ? responseData3.result : [];\n            this.advisors = result3;\n          }\n\n          if (!!responseData4) {\n            const result4 = responseData4.result ? responseData4.result : [];\n            this.deliverTypes = result4;\n          }\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n    /*** Get Porshe  ***/\n\n\n    getPorshceModels() {\n      this.http.getData(ApiUrl.dealer.getCarModels).subscribe(response => {\n        if (!!response) {\n          this.porscheModels = response.result ? response.result : [];\n\n          if (this.deliveryId) {\n            this.getDeliveryDetails();\n          }\n        }\n      });\n    }\n    /*** Get Login Form Controls ***/\n\n\n    get dForm() {\n      return this.deliveryForm.controls;\n    }\n    /*** Trim form values ***/\n\n\n    trim(key) {\n      this.deliveryForm.controls[key].patchValue(this.dForm[key].value.trim());\n    }\n    /*** Check current Date ***/\n\n\n    checkMinDate() {\n      const today = moment(new Date());\n\n      if (this.deliveryForm.controls.deliveryDate.value) {\n        const deliveryDate = moment(this.deliveryForm.controls.deliveryDate.value);\n        this.minTime = '00:00 AM';\n\n        if (!deliveryDate.isSameOrAfter(today)) {\n          this.deliveryForm.controls.deliveryDate.patchValue(this.today);\n          this.deliveryForm.controls.deliveryTime.patchValue(today.format('LT'));\n          this.minTime = today.format('LT');\n        }\n      } else {\n        this.deliveryForm.controls.deliveryDate.patchValue(this.today);\n        this.deliveryForm.controls.deliveryTime.patchValue(today.format('LT'));\n        this.minTime = today.format('LT');\n      }\n    }\n    /*** Submit Form ***/\n\n\n    onSubmit() {\n      this.isSubmitted = true;\n\n      if (!this.deliveryForm.valid) {\n        setTimeout(() => {\n          this.isSubmitted = false;\n        }, 20000);\n        return;\n      }\n\n      const params = Object.assign({}, this.deliveryForm.value);\n      params.contactNumber = params.contactNumber.toString();\n      params.contactNumber = !params.contactNumber.includes('+1') ? '+1 ' + params.contactNumber : params.contactNumber;\n      params.deliveryDate = moment(params.deliveryDate).format('YYYY-MM-DD');\n      const utcDeliveryTime = moment(params.deliveryDate + ' ' + params.deliveryTime, 'YYYY-MM-DD HH:mm a').format();\n      params.deliveryTime = utcDeliveryTime.split('+')[0];\n      const proscheProExist = this.porschePros.filter(el => el.name === params.porschePro);\n      const consultantExist = this.consultants.filter(el => el.name === params.salesConsultant);\n      const advisorExist = this.advisors.filter(el => el.name === params.serviceAdvisor);\n\n      if (!proscheProExist.length || !consultantExist.length || !advisorExist.length) {\n        if (!proscheProExist.length) {\n          this.message.toast('error', 'Please select Porsche Pro from list');\n        }\n\n        if (!consultantExist.length) {\n          this.message.toast('error', 'Please select Sales Consultant from list');\n        }\n\n        if (!advisorExist.length) {\n          this.message.toast('error', 'Please select Service Advisor from list');\n        }\n\n        return;\n      }\n\n      params.porschePro = proscheProExist[0];\n      params.salesConsultant = consultantExist[0];\n      params.serviceAdvisor = advisorExist[0];\n      this.isLoading = true;\n\n      if (this.deliveryId) {\n        params.id = +this.deliveryId;\n\n        if (this.deliverData.customerId) {\n          params.customerId = +this.deliverData.customerId;\n        }\n\n        this.http.putData(ApiUrl.dealer.delivery, params).subscribe(response => {\n          this.isLoading = false;\n\n          if (!!response) {\n            this.message.toast('success', response.message);\n            this.isSubmitted = false;\n            this.router.navigate(['']);\n          }\n        }, err => {\n          this.isLoading = false;\n        });\n      } else {\n        this.http.postData(ApiUrl.dealer.delivery, params).subscribe(response => {\n          this.isLoading = false;\n\n          if (!!response) {\n            this.message.toast('success', response.message);\n            this.deliveryForm.reset();\n            this.isSubmitted = false;\n            this.router.navigate(['']);\n          }\n        }, err => {\n          this.isLoading = false;\n        });\n      }\n    }\n\n    updateSkipSurvey(evt) {\n      if (evt.checked) {\n        this.dForm.skipSurvey.patchValue(true);\n      } else {\n        this.dForm.skipSurvey.patchValue(false);\n      }\n    }\n\n  }\n\n  DeliveryComponent.ɵfac = function DeliveryComponent_Factory(t) {\n    return new (t || DeliveryComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.HttpService), i0.ɵɵdirectiveInject(i5.UtilsService), i0.ɵɵdirectiveInject(i6.DatePipe));\n  };\n\n  DeliveryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DeliveryComponent,\n    selectors: [[\"app-delivery\"]],\n    decls: 174,\n    vars: 128,\n    consts: [[1, \"delivery-dashboard\", \"scrollbar\"], [\"width\", \"extended\", 1, \"hydrated\", \"p-content-wrapper\"], [3, \"size\"], [\"novalidate\", \"novalidate\", 1, \"delivery-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"last\"], [1, \"star\"], [1, \"form-grid-item-container\", \"p-flex\", \"hydrated\"], [\"width\", \"{base: 'full'}\", 1, \"form-grid-item\", \"p-flex__item\", \"p-flex__item--width-full\", \"hydrated\"], [1, \"hydrated\", 3, \"message\", \"state\"], [\"slot\", \"label\"], [\"type\", \"text\", \"name\", \"customerName\", \"required\", \"required\", \"formControlName\", \"customerName\", 3, \"blur\", \"keyup\"], [\"width\", \"{base: 'full'}\", 1, \"form-row-spacing\", \"form-grid-item\", \"p-flex__item\", \"p-flex__item--width-full\", \"hydrated\"], [\"type\", \"email\", \"name\", \"customerEmail\", \"required\", \"required\", \"formControlName\", \"customerEmail\", 3, \"keyup\", \"keydown\", \"blur\"], [1, \"select-row\"], [1, \"box\"], [\"hide-label\", \"false\", 3, \"message\", \"state\"], [\"name\", \"model\", \"formControlName\", \"model\", \"required\", \"required\"], [\"value\", \"\", \"disabled\", \"\"], [3, \"ngValue\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"deliveryDate\", \"onkeydown\", \"return false\", 3, \"matDatepicker\", \"min\", \"dateChange\"], [\"matSuffix\", \"\", 3, \"for\", \"disableRipple\"], [\"picker1\", \"\"], [\"type\", \"text\", \"name\", \"deliveryTime\", \"required\", \"required\", \"autocomplete\", \"one-time-code\", \"formControlName\", \"deliveryTime\", \"aria-label\", \"Delivery Time\", \"onkeydown\", \"return false\", 3, \"ngxTimepicker\", \"min\"], [3, \"for\", \"disableRipple\"], [\"toggleTimepicker\", \"\"], [\"default\", \"\"], [\"slot\", \"label\", 1, \"label-line\"], [1, \"input-row\"], [1, \"code-block\"], [1, \"hydrated\"], [\"type\", \"tel\", \"name\", \"countryCode\", \"value\", \"+1\", \"maxlength\", \"20\"], [1, \"input-block\"], [\"type\", \"tel\", \"name\", \"contactNumber\", \"id\", \"phoneNumberInput\", \"required\", \"required\", \"formControlName\", \"contactNumber\", \"aria-label\", \"Contact Number\", \"maxlength\", \"20\", 3, \"keyup\", \"keydown\", \"blur\"], [\"name\", \"porschePro\", \"formControlName\", \"porschePro\", \"required\", \"required\"], [1, \"sales-box\"], [\"name\", \"salesConsultant\", \"formControlName\", \"salesConsultant\", \"required\", \"required\"], [\"name\", \"serviceAdvisor\", \"formControlName\", \"serviceAdvisor\", \"required\", \"required\"], [\"name\", \"deliveryType\", \"formControlName\", \"deliveryType\", \"required\", \"required\"], [\"width\", \"{base: 'full'}\", 1, \"form-row-spacing\", \"form-grid-item\", \"p-flex__item\", \"p-flex__item--width-full\", \"hydrated\", \"checkbox-spacing\"], [1, \"hydrated\", 3, \"hideLabel\"], [\"type\", \"checkbox\", \"name\", \"skipSurvey\", \"formControlName\", \"skipSurvey\", 3, \"checked\", \"change\"], [1, \"btn-box\"], [\"routerLink\", \"/\", 3, \"icon\", \"variant\"], [\"variant\", \"primary\", \"type\", \"submit\", 3, \"loading\", \"disabled\"], [3, \"ngValue\", \"selected\"]],\n    template: function DeliveryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"p-content-wrapper\", 1)(2, \"p-grid\")(3, \"p-grid-item\", 2)(4, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function DeliveryComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(5, \"h2\");\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9);\n        i0.ɵɵpipe(10, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\", 4);\n        i0.ɵɵtext(12);\n        i0.ɵɵpipe(13, \"translate\");\n        i0.ɵɵelementStart(14, \"span\", 5);\n        i0.ɵɵtext(15, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \"). \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p-flex\", 6)(18, \"p-flex-item\", 7)(19, \"p-text-field-wrapper\", 8);\n        i0.ɵɵpipe(20, \"translate\");\n        i0.ɵɵelementStart(21, \"span\", 9);\n        i0.ɵɵtext(22);\n        i0.ɵɵpipe(23, \"translate\");\n        i0.ɵɵelementStart(24, \"span\", 5);\n        i0.ɵɵtext(25, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"input\", 10);\n        i0.ɵɵlistener(\"blur\", function DeliveryComponent_Template_input_blur_26_listener() {\n          return ctx.trim(\"customerName\");\n        })(\"keyup\", function DeliveryComponent_Template_input_keyup_26_listener($event) {\n          return $event.keyCode === 13 && ctx.onSubmit();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(27, \"p-flex\", 6)(28, \"p-flex-item\", 11)(29, \"p-text-field-wrapper\", 8);\n        i0.ɵɵpipe(30, \"translate\");\n        i0.ɵɵpipe(31, \"translate\");\n        i0.ɵɵelementStart(32, \"span\", 9);\n        i0.ɵɵtext(33);\n        i0.ɵɵpipe(34, \"translate\");\n        i0.ɵɵelementStart(35, \"span\", 5);\n        i0.ɵɵtext(36, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"input\", 12);\n        i0.ɵɵlistener(\"keyup\", function DeliveryComponent_Template_input_keyup_37_listener($event) {\n          return $event.keyCode === 13 && ctx.onSubmit();\n        })(\"keydown\", function DeliveryComponent_Template_input_keydown_37_listener() {\n          return ctx.errorNull(\"contactNumber\");\n        })(\"blur\", function DeliveryComponent_Template_input_blur_37_listener() {\n          ctx.trim(\"customerEmail\");\n          return ctx.validateControl(\"customerEmail\");\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(38, \"div\", 13)(39, \"div\", 14)(40, \"p-flex\", 6)(41, \"p-flex-item\", 11)(42, \"p-select-wrapper\", 15);\n        i0.ɵɵpipe(43, \"translate\");\n        i0.ɵɵelementStart(44, \"span\", 9);\n        i0.ɵɵtext(45);\n        i0.ɵɵpipe(46, \"translate\");\n        i0.ɵɵelementStart(47, \"span\", 5);\n        i0.ɵɵtext(48, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(49, \"select\", 16)(50, \"option\", 17);\n        i0.ɵɵtext(51);\n        i0.ɵɵpipe(52, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(53, DeliveryComponent_option_53_Template, 2, 3, \"option\", 18);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(54, \"div\", 14)(55, \"p-flex\", 6)(56, \"p-flex-item\", 11)(57, \"p-text-field-wrapper\", 15);\n        i0.ɵɵpipe(58, \"translate\");\n        i0.ɵɵelementStart(59, \"span\", 9);\n        i0.ɵɵtext(60);\n        i0.ɵɵpipe(61, \"translate\");\n        i0.ɵɵelementStart(62, \"span\", 5);\n        i0.ɵɵtext(63, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(64, \"input\", 19);\n        i0.ɵɵlistener(\"dateChange\", function DeliveryComponent_Template_input_dateChange_64_listener() {\n          return ctx.checkMinDate();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(65, \"mat-datepicker-toggle\", 20)(66, \"mat-datepicker\", null, 21);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(68, \"div\", 14)(69, \"p-flex\", 6)(70, \"p-flex-item\", 11)(71, \"p-text-field-wrapper\", 15);\n        i0.ɵɵpipe(72, \"translate\");\n        i0.ɵɵelementStart(73, \"span\", 9);\n        i0.ɵɵtext(74);\n        i0.ɵɵpipe(75, \"translate\");\n        i0.ɵɵelementStart(76, \"span\", 5);\n        i0.ɵɵtext(77, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(78, \"input\", 22)(79, \"ngx-material-timepicker-toggle\", 23)(80, \"ngx-material-timepicker\", null, 24)(82, \"ngx-material-timepicker\", null, 25);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(84, \"span\", 26);\n        i0.ɵɵtext(85);\n        i0.ɵɵpipe(86, \"translate\");\n        i0.ɵɵelementStart(87, \"span\", 5);\n        i0.ɵɵtext(88, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(89, \"p-flex\", 6)(90, \"div\", 27)(91, \"div\", 28)(92, \"p-flex-item\", 11)(93, \"p-text-field-wrapper\", 29);\n        i0.ɵɵelement(94, \"input\", 30);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(95, \"div\", 31)(96, \"p-flex-item\", 11)(97, \"p-text-field-wrapper\", 8);\n        i0.ɵɵpipe(98, \"translate\");\n        i0.ɵɵpipe(99, \"translate\");\n        i0.ɵɵelementStart(100, \"input\", 32);\n        i0.ɵɵlistener(\"keyup\", function DeliveryComponent_Template_input_keyup_100_listener($event) {\n          return $event.keyCode === 13 && ctx.onSubmit();\n        })(\"keydown\", function DeliveryComponent_Template_input_keydown_100_listener() {\n          return ctx.errorNull(\"contactNumber\");\n        })(\"blur\", function DeliveryComponent_Template_input_blur_100_listener() {\n          ctx.validateControl(\"contactNumber\");\n          return ctx.formatPhoneNumber();\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(101, \"p-flex\", 6)(102, \"p-flex-item\", 11)(103, \"p-select-wrapper\", 15);\n        i0.ɵɵpipe(104, \"translate\");\n        i0.ɵɵelementStart(105, \"span\", 9);\n        i0.ɵɵtext(106);\n        i0.ɵɵpipe(107, \"translate\");\n        i0.ɵɵelementStart(108, \"span\", 5);\n        i0.ɵɵtext(109, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(110, \"select\", 33)(111, \"option\", 17);\n        i0.ɵɵtext(112);\n        i0.ɵɵpipe(113, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(114, DeliveryComponent_option_114_Template, 2, 3, \"option\", 18);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(115, \"div\", 34)(116, \"div\", 14)(117, \"p-flex\", 6)(118, \"p-flex-item\", 11)(119, \"p-select-wrapper\", 15);\n        i0.ɵɵpipe(120, \"translate\");\n        i0.ɵɵelementStart(121, \"span\", 9);\n        i0.ɵɵtext(122);\n        i0.ɵɵpipe(123, \"translate\");\n        i0.ɵɵelementStart(124, \"span\", 5);\n        i0.ɵɵtext(125, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(126, \"select\", 35)(127, \"option\", 17);\n        i0.ɵɵtext(128);\n        i0.ɵɵpipe(129, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(130, DeliveryComponent_option_130_Template, 2, 3, \"option\", 18);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(131, \"div\", 14)(132, \"p-flex\", 6)(133, \"p-flex-item\", 11)(134, \"p-select-wrapper\", 15);\n        i0.ɵɵpipe(135, \"translate\");\n        i0.ɵɵelementStart(136, \"span\", 9);\n        i0.ɵɵtext(137);\n        i0.ɵɵpipe(138, \"translate\");\n        i0.ɵɵelementStart(139, \"span\", 5);\n        i0.ɵɵtext(140, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(141, \"select\", 36)(142, \"option\", 17);\n        i0.ɵɵtext(143);\n        i0.ɵɵpipe(144, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(145, DeliveryComponent_option_145_Template, 2, 3, \"option\", 18);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(146, \"p-flex\", 6)(147, \"p-flex-item\", 11)(148, \"p-select-wrapper\", 15);\n        i0.ɵɵpipe(149, \"translate\");\n        i0.ɵɵelementStart(150, \"span\", 9);\n        i0.ɵɵtext(151);\n        i0.ɵɵpipe(152, \"translate\");\n        i0.ɵɵelementStart(153, \"span\", 5);\n        i0.ɵɵtext(154, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(155, \"select\", 37)(156, \"option\", 17);\n        i0.ɵɵtext(157);\n        i0.ɵɵpipe(158, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(159, DeliveryComponent_option_159_Template, 3, 5, \"option\", 18);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(160, \"p-flex\", 6)(161, \"p-flex-item\", 38)(162, \"p-checkbox-wrapper\", 39)(163, \"span\", 9);\n        i0.ɵɵtext(164);\n        i0.ɵɵpipe(165, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(166, \"input\", 40);\n        i0.ɵɵlistener(\"change\", function DeliveryComponent_Template_input_change_166_listener($event) {\n          return ctx.updateSkipSurvey($event.target);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(167, \"div\", 41)(168, \"p-button\", 42);\n        i0.ɵɵtext(169);\n        i0.ɵɵpipe(170, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(171, \"p-button\", 43);\n        i0.ɵɵtext(172);\n        i0.ɵɵpipe(173, \"translate\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(67);\n\n        const _r2 = i0.ɵɵreference(81);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"size\", 12);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.deliveryForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 62, ctx.deliveryId ? \"Edit Delivery\" : \"Add New Delivery\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 64, \"Please enter delivery details in the following fields.\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(13, 66, \"Mandatory fields are marked with an asterisk\"), \" (\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.customerName.errors ? i0.ɵɵpipeBind1(20, 68, \"Please enter customer name.\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.customerName.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(23, 70, \"Customer Name\"), \" \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"message\", (ctx.isSubmitted || ctx.isEmailTouched) && ctx.dForm.customerEmail.errors ? (ctx.dForm.customerEmail.errors == null ? null : ctx.dForm.customerEmail.errors.pattern) ? i0.ɵɵpipeBind1(30, 72, \"Please enter a valid email.\") : i0.ɵɵpipeBind1(31, 74, \"Please enter customer email address.\") : \"\")(\"state\", (ctx.isSubmitted || ctx.isEmailTouched) && ctx.dForm.customerEmail.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(34, 76, \"Customer Email\"), \" \");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.model.errors ? i0.ɵɵpipeBind1(43, 78, \"Please select Porsche Model\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.model.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(46, 80, \"Model\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(52, 82, \"Select Porsche Model\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.porscheModels);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.deliveryDate.errors ? i0.ɵɵpipeBind1(58, 84, \"Please select delivery date\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.deliveryDate.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(61, 86, \"Delivery Date\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"matDatepicker\", _r1)(\"min\", ctx.today);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r1)(\"disableRipple\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.deliveryTime.errors ? i0.ɵɵpipeBind1(72, 88, \"Please select delivery time\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.deliveryTime.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(75, 90, \"Delivery Time\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngxTimepicker\", _r2)(\"min\", ctx.minTime);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r2)(\"disableRipple\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(86, 92, \"Contact Number\"), \" \");\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"message\", (ctx.isSubmitted || ctx.isContactTouched) && ctx.dForm.contactNumber.errors ? (ctx.dForm.contactNumber.errors == null ? null : ctx.dForm.contactNumber.errors.pattern) ? i0.ɵɵpipeBind1(98, 94, \"Please enter a valid number\") : i0.ɵɵpipeBind1(99, 96, \"Please enter contact number\") : \"\")(\"state\", (ctx.isSubmitted || ctx.isContactTouched) && ctx.dForm.contactNumber.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.porschePro.errors ? i0.ɵɵpipeBind1(104, 98, \"Please enter Porsche Professional\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.porschePro.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(107, 100, \"Porsche Pro\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(113, 102, \"Select Porsche Pro\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.porschePros);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.salesConsultant.errors ? i0.ɵɵpipeBind1(120, 104, \"Please enter Sales Consultant name\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.salesConsultant.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(123, 106, \"Sales Consultant\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(129, 108, \"Select Porsche Pro\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.consultants);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.serviceAdvisor.errors ? i0.ɵɵpipeBind1(135, 110, \"Please enter Service Advisor name\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.serviceAdvisor.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(138, 112, \"Service Advisor\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(144, 114, \"Select Porsche Pro\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.advisors);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"message\", ctx.isSubmitted && ctx.dForm.deliveryType.errors ? i0.ɵɵpipeBind1(149, 116, \"Please select delivery type\") : \"\")(\"state\", ctx.isSubmitted && ctx.dForm.deliveryType.errors ? \"error\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(152, 118, \"Delivery Type\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(158, 120, \"Select Delivery Type\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.deliverTypes);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"hideLabel\", false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(165, 122, \"Skip Survey\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"checked\", ctx.dForm.skipSurvey.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"icon\", \"close\")(\"variant\", \"tertiary\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(170, 124, \"Cancel\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"loading\", ctx.isLoading)(\"disabled\", ctx.deliveryId && !ctx.deliveryForm.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(173, 126, ctx.deliveryId ? \"Update Delivery\" : \"Add New Delivery\"), \" \");\n      }\n    },\n    directives: [i7.PContentWrapper, i7.PGrid, i7.PGridItem, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i7.PFlex, i7.PFlexItem, i7.PTextFieldWrapper, i1.DefaultValueAccessor, i1.RequiredValidator, i1.NgControlStatus, i1.FormControlName, i7.PSelectWrapper, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i6.NgForOf, i8.MatInput, i9.MatDatepickerInput, i9.MatDatepickerToggle, i10.MatSuffix, i9.MatDatepicker, i11.TimepickerDirective, i11.ɵc, i11.NgxMaterialTimepickerComponent, i1.MaxLengthValidator, i7.PCheckboxWrapper, i1.CheckboxControlValueAccessor, i7.PButton, i2.RouterLink],\n    pipes: [i12.TranslatePipe],\n    styles: [\"section.delivery-dashboard[_ngcontent-%COMP%]{width:100%;height:100%;max-height:calc(100vh - 70px);overflow-y:auto}.delivery-form[_ngcontent-%COMP%]{width:100%;max-width:633px;margin:25px auto 60px}.delivery-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.delivery-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin:0}.delivery-form[_ngcontent-%COMP%]   p.last[_ngcontent-%COMP%]{margin-bottom:40px}.delivery-form[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]{width:100%;display:flex}.delivery-form[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;max-width:calc(33.3% - 8px);margin:0 8px}.delivery-form[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:first-child{margin-left:0}.delivery-form[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:last-child{margin-right:0}.delivery-form[_ngcontent-%COMP%]   .sales-box[_ngcontent-%COMP%]{width:100%;display:flex}.delivery-form[_ngcontent-%COMP%]   .sales-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;max-width:calc(50% - 8px);margin:0 8px}.delivery-form[_ngcontent-%COMP%]   .sales-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:first-child{margin-left:0}.delivery-form[_ngcontent-%COMP%]   .sales-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:last-child{margin-right:0}.delivery-form[_ngcontent-%COMP%]   .btn-box[_ngcontent-%COMP%]{width:100%;display:flex;margin:40px 0 140px}.delivery-form[_ngcontent-%COMP%]   .btn-box[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-child{margin-right:16px}mat-datepicker-toggle.mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;top:4px;right:0}ngx-material-timepicker-toggle[_ngcontent-%COMP%]{position:absolute;top:8px;right:4px}.checkbox-spacing[_ngcontent-%COMP%]{margin-top:36px!important}\"]\n  });\n  return DeliveryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}